{
    "metadatas": [
        {
            "node_id": 41,
            "labels": [
                "File"
            ],
            "properties": {
                "additionalBin": {
                    "binNum": 1,
                    "binPath": "/data/sanglei/CodeGraphRAG/test-project/test1/kafka"
                },
                "external": false,
                "id": 5,
                "name": "StreamsUpgradeTest.java",
                "parentId": 0,
                "qualifiedName": "org.apache.kafka.streams.tests.StreamsUpgradeTest.java",
                "File": "streams/upgrade-system-tests-36/src/test/java/org/apache/kafka/streams/tests/StreamsUpgradeTest.java"
            },
            "semantic_description": "{\n  \"type\": \"Documentation\",\n  \"name\": \"Kafka Streams API Summary\",\n  \"summary\": \"Aggregated view of selected Kafka Streams classes, methods, variables and their inter‑relationships, illustrating how high‑level DSL, low‑level processor API and utility functions compose a streaming application.\",\n  \"children\": [\n    {\n      \"type\": \"Method\",\n      \"name\": \"start (KafkaStreams)\",\n      \"summary\": \"Initiates the Streams runtime, creating state stores, starting threads and signalling readiness.\",\n      \"relation_to_parent\": \"Top‑level operation of the KafkaStreams class; orchestrates sub‑steps required for startup.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"log.info(\\\"Started Kafka Streams\\\")\",\n          \"summary\": \"Emits a log entry indicating successful startup.\",\n          \"relation_to_parent\": \"Executed within start to report progress.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"stateListener.ifPresent\",\n          \"summary\": \"If a state listener is configured, notifies it that the Streams have started.\",\n          \"relation_to_parent\": \"Conditional callback triggered by start.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"stateListener.onStart\",\n          \"summary\": \"Notifies the registered listener of the start event.\",\n          \"relation_to_parent\": \"Invoked by the lambda passed to ifPresent.\",\n          \"relation\": \"callback\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"topology.addStateStores\",\n          \"summary\": \"Registers all state stores defined in the topology with the runtime.\",\n          \"relation_to_parent\": \"Performed during start to make stores available to processors.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"topology.addSource\",\n          \"summary\": \"Adds source nodes for each input topic to the processing graph.\",\n          \"relation_to_parent\": \"Executes as part of start to set up ingestion points.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"topology.init\",\n          \"summary\": \"Finalises topology construction, linking sources, processors and sinks.\",\n          \"relation_to_parent\": \"Called during start after sources and stores are added.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"addThread\",\n          \"summary\": \"Creates a dedicated StreamThread for this Streams instance.\",\n          \"relation_to_parent\": \"Invoked by start to allocate execution threads.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"addStreamThread\",\n          \"summary\": \"Instantiates a StreamThread, adds it to the internal thread list and starts it.\",\n          \"relation_to_parent\": \"Called by addThread to materialise the thread.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"thread.start\",\n          \"summary\": \"Begins thread execution, launching the processing loop.\",\n          \"relation_to_parent\": \"Executed on the newly created StreamThread.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"cleanupAndShutdown\",\n          \"summary\": \"Performs graceful shutdown of internal resources (state stores, threads, executors).\",\n          \"relation_to_parent\": \"Triggered by start if any initialisation step fails.\",\n          \"relation\": \"error‑handling\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"log.error\",\n          \"summary\": \"Records the exception that caused shutdown.\",\n          \"relation_to_parent\": \"Executed within the failure path of start.\",\n          \"relation\": \"invocation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"close (KafkaStreams)\",\n      \"summary\": \"Stops the Streams instance, optionally waiting for threads to finish.\",\n      \"relation_to_parent\": \"Primary shutdown entry point for the KafkaStreams class.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"log.info(\\\"Closing Kafka Streams\\\")\",\n          \"summary\": \"Logs the commencement of shutdown.\",\n          \"relation_to_parent\": \"Executed at the start of close.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"stateListener.ifPresent\",\n          \"summary\": \"If present, notifies the listener that Streams are stopping.\",\n          \"relation_to_parent\": \"Conditional callback inside close.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"stateListener.onClose\",\n          \"summary\": \"Calls the listener’s onClose method.\",\n          \"relation_to_parent\": \"Executed by the lambda supplied to ifPresent.\",\n          \"relation\": \"callback\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"closeInternal\",\n          \"summary\": \"Internal shutdown routine that handles thread termination and resource cleanup.\",\n          \"relation_to_parent\": \"Invoked by close to perform the actual work.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"closeInternalWithLock\",\n          \"summary\": \"Acquires the client‑wide lock before delegating to closeInternal.\",\n          \"relation_to_parent\": \"Called by closeInternal when thread‑safe shutdown is required.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"closeInternal (no lock)\",\n          \"summary\": \"Shuts down threads, executors, state managers, and removes the client from the global map.\",\n          \"relation_to_parent\": \"Core logic performed after the lock (if any) is released.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"thread.join\",\n          \"summary\": \"Waits for the StreamThread to finish processing.\",\n          \"relation_to_parent\": \"Executed for each thread during shutdown.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"storeManager.closeAllStateStores\",\n          \"summary\": \"Closes all persistent state stores to flush data and release resources.\",\n          \"relation_to_parent\": \"Part of the resource‑cleanup sequence.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"stateListener.onShutdown\",\n          \"summary\": \"Notifies the listener that the Streams have completely shut down.\",\n          \"relation_to_parent\": \"Called after all internal components are stopped.\",\n          \"relation\": \"callback\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"log.error(\\\"Failed to close Kafka Streams\\\")\",\n          \"summary\": \"Logs any exception that occurs while closing.\",\n          \"relation_to_parent\": \"Error‑handling path inside close.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"cancelAndClose\",\n          \"summary\": \"Cancels the client’s scheduled tasks and closes network connections.\",\n          \"relation_to_parent\": \"Executed after the Streams shutdown to free the underlying client.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"client.close\",\n          \"summary\": \"Stops the consumer/producer client; may block indefinitely.\",\n          \"relation_to_parent\": \"Called by cancelAndClose to terminate the client.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"client.close (no timeout)\",\n          \"summary\": \"Delegates to the overload with a timeout of Long.MAX_VALUE, effectively waiting forever.\",\n          \"relation_to_parent\": \"Used when the caller does not specify a timeout.\",\n          \"relation\": \"delegation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"client.closeInternal\",\n          \"summary\": \"Performs the actual client shutdown, optionally acquiring a lock.\",\n          \"relation_to_parent\": \"Internal implementation called by both close overloads.\",\n          \"relation\": \"invocation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"close (KafkaStreams, timeout)\",\n      \"summary\": \"Closes the Streams instance, waiting up to the supplied timeout for all threads to terminate.\",\n      \"relation_to_parent\": \"Provides a timed shutdown variant for KafkaStreams.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"closeInternal (with timeout)\",\n          \"summary\": \"Shuts down threads, executors and state stores, respecting the given timeout.\",\n          \"relation_to_parent\": \"Core shutdown routine invoked by close with timeout.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"client.close (timeout)\",\n          \"summary\": \"Delegates to the ApplicationClient shutdown, propagating the timeout.\",\n          \"relation_to_parent\": \"Ensures the underlying client is also closed.\",\n          \"relation\": \"delegation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"closeInternal (KafkaStreams)\",\n      \"summary\": \"Shared shutdown logic used by all close variants; handles thread termination and resource release.\",\n      \"relation_to_parent\": \"Internal helper called by close methods.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"log.info(\\\"Shutting down client\\\")\",\n          \"summary\": \"Records the start of the shutdown sequence.\",\n          \"relation_to_parent\": \"Executed at the beginning of closeInternal.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"stateListener.ifPresent\",\n          \"summary\": \"Optionally notifies the state listener about the shutdown.\",\n          \"relation_to_parent\": \"Conditional callback within closeInternal.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"stateListener.onShutdown\",\n          \"summary\": \"Calls the listener’s onShutdown method.\",\n          \"relation_to_parent\": \"Callback triggered by the ifPresent lambda.\",\n          \"relation\": \"callback\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"client.closeInternal (with lock)\",\n          \"summary\": \"Performs client shutdown while holding the client‑wide lock to avoid race conditions.\",\n          \"relation_to_parent\": \"Delegated from closeInternal to ensure thread‑safe cleanup.\",\n          \"relation\": \"delegation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"closeInternalWithLock (ApplicationClient)\",\n      \"summary\": \"Acquires the client‑wide lock, then calls the lock‑free shutdown routine.\",\n      \"relation_to_parent\": \"Ensures exclusive access before shutting down internal components.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"clientLock.lock\",\n          \"summary\": \"Locks the client to prevent concurrent modifications.\",\n          \"relation_to_parent\": \"Executed at the start of closeInternalWithLock.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"closeInternal (no lock)\",\n          \"summary\": \"Runs the actual shutdown steps without holding the lock.\",\n          \"relation_to_parent\": \"Called after the lock is acquired.\",\n          \"relation\": \"delegation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"clientLock.unlock\",\n          \"summary\": \"Releases the client lock after shutdown completes.\",\n          \"relation_to_parent\": \"Executed in a finally block to guarantee unlock.\",\n          \"relation\": \"resource‑management\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"closeInternal (ApplicationClient, no lock)\",\n      \"summary\": \"Closes internal executors, state stores and stream threads without acquiring the client lock.\",\n      \"relation_to_parent\": \"Core shutdown routine used by both locked and unlocked pathways.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"executor.shutdown\",\n          \"summary\": \"Begins graceful termination of the client‑wide executor service.\",\n          \"relation_to_parent\": \"First step of internal shutdown.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"client.closeInternal (no lock)\",\n          \"summary\": \"Closes the underlying Kafka client resources directly.\",\n          \"relation_to_parent\": \"Ensures the consumer/producer is stopped.\",\n          \"relation\": \"delegation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"stateDirectory.release\",\n          \"summary\": \"Frees the directory used for state store checkpoints.\",\n          \"relation_to_parent\": \"Executed after client closure.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"storeManager.closeAllStateStores\",\n          \"summary\": \"Flushes and closes all persistent stores.\",\n          \"relation_to_parent\": \"Part of the final cleanup stage.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"streamThread.shutdown\",\n          \"summary\": \"Signals each stream thread to stop processing.\",\n          \"relation_to_parent\": \"Stops the processing loops.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"streamThread.join\",\n          \"summary\": \"Waits for each thread to finish, respecting the overall timeout.\",\n          \"relation_to_parent\": \"Ensures all threads have exited before returning.\",\n          \"relation\": \"invocation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"addStreamThread (KafkaStreams)\",\n      \"summary\": \"Creates and starts a new StreamThread, adding it to the internal thread list.\",\n      \"relation_to_parent\": \"Used during Streams startup to spin up processing threads.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"new StreamThread(...)\",\n          \"summary\": \"Instantiates a StreamThread with access to the client, state manager and executors.\",\n          \"relation_to_parent\": \"Thread creation step.\",\n          \"relation\": \"instantiation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"thread.start\",\n          \"summary\": \"Starts the newly created thread, causing it to begin processing.\",\n          \"relation_to_parent\": \"Immediately after construction.\",\n          \"relation\": \"invocation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"addStreamThread (ApplicationClient)\",\n      \"summary\": \"Creates a StreamThread with the provided client, state manager and executors, and adds it to the thread list.\",\n      \"relation_to_parent\": \"Helper used by both KafkaStreams and ApplicationClient during startup.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"new StreamThread(...)\",\n          \"summary\": \"Constructs the thread instance passing necessary dependencies.\",\n          \"relation_to_parent\": \"Thread creation step.\",\n          \"relation\": \"instantiation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"thread.start\",\n          \"summary\": \"Launches the thread.\",\n          \"relation_to_parent\": \"Starts the processing loop.\",\n          \"relation\": \"invocation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"close (ApplicationClient, timeout)\",\n      \"summary\": \"Public shutdown method that waits up to the given timeout for all internal components to finish.\",\n      \"relation_to_parent\": \"Exposed API for timed client shutdown.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"closeInternal (with lock, timeout)\",\n          \"summary\": \"Runs the internal shutdown while holding the client lock and respecting the timeout.\",\n          \"relation_to_parent\": \"Core logic for timed closure.\",\n          \"relation\": \"delegation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"closeInternal (ApplicationClient, with lock)\",\n      \"summary\": \"Acquires the client lock, then performs the lock‑free shutdown while propagating the timeout.\",\n      \"relation_to_parent\": \"Ensures safe shutdown when a timeout is supplied.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"clientLock.lock\",\n          \"summary\": \"Obtains exclusive access before proceeding.\",\n          \"relation_to_parent\": \"First step of the locked shutdown path.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"closeInternal (no lock, timeout)\",\n          \"summary\": \"Runs the actual shutdown respecting the timeout.\",\n          \"relation_to_parent\": \"Called after lock acquisition.\",\n          \"relation\": \"delegation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"clientLock.unlock\",\n          \"summary\": \"Ensures the lock is always released.\",\n          \"relation_to_parent\": \"Executed in a finally block.\",\n          \"relation\": \"resource‑management\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"addStreamThread (ApplicationClient)\",\n      \"summary\": \"Creates a new StreamThread for the underlying client and adds it to the client’s thread list.\",\n      \"relation_to_parent\": \"Allows the client to manage its own processing threads.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"new StreamThread(client, ...) \",\n          \"summary\": \"Instantiates a StreamThread bound to the supplied client.\",\n          \"relation_to_parent\": \"Thread creation step.\",\n          \"relation\": \"instantiation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"clientThread.addThread\",\n          \"summary\": \"Registers the newly created thread with the client’s thread manager.\",\n          \"relation_to_parent\": \"Stores the thread for later shutdown.\",\n          \"relation\": \"invocation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"addConsumerInterceptors (KafkaConsumer)\",\n      \"summary\": \"Adds interceptor configurations to a consumer if they are defined.\",\n      \"relation_to_parent\": \"Utility method used during client construction.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"config.getString(\\\"interceptor.classes\\\")\",\n          \"summary\": \"Retrieves the list of interceptor class names if present.\",\n          \"relation_to_parent\": \"Checks configuration for user‑specified interceptors.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"consumer.addInterceptorClass\",\n          \"summary\": \"Registers each interceptor class with the consumer.\",\n          \"relation_to_parent\": \"Executed for each class found in the configuration.\",\n          \"relation\": \"loop\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"close (KafkaConsumer)\",\n      \"summary\": \"Closes the consumer, releasing its lock and clearing assignments.\",\n      \"relation_to_parent\": \"Public API for shutting down a consumer.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"consumer.lock.unlock\",\n          \"summary\": \"Releases the consumer lock held by the thread.\",\n          \"relation_to_parent\": \"Ensures the lock is cleared on close.\",\n          \"relation\": \"resource‑management\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"consumer.unassign\",\n          \"summary\": \"Removes all topic partitions from the consumer.\",\n          \"relation_to_parent\": \"Cleans up subscription state.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"closeInternal (no timeout)\",\n          \"summary\": \"Runs the core shutdown logic without a timeout.\",\n          \"relation_to_parent\": \"Delegates to internal shutdown routine.\",\n          \"relation\": \"delegation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"closeInternal (with lock)\",\n          \"summary\": \"Acquires the consumer lock before performing the internal shutdown.\",\n          \"relation_to_parent\": \"Ensures thread‑safe resource release.\",\n          \"relation\": \"delegation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"closeInternal (KafkaConsumer, with lock)\",\n      \"summary\": \"Performs shutdown while holding the consumer lock to avoid concurrent usage.\",\n      \"relation_to_parent\": \"Internal method used by both timed and untimed close paths.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"consumerLock.lock\",\n          \"summary\": \"Acquires exclusive access to the consumer.\",\n          \"relation_to_parent\": \"First action in the locked shutdown path.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"closeInternal (no lock)\",\n          \"summary\": \"Executes the actual resource cleanup after the lock is held.\",\n          \"relation_to_parent\": \"Called once the lock is secured.\",\n          \"relation\": \"delegation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"consumerLock.unlock\",\n          \"summary\": \"Releases the consumer lock after cleaning up.\",\n          \"relation_to_parent\": \"Executed in a finally block.\",\n          \"relation\": \"resource‑management\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"closeInternal (KafkaConsumer, no lock)\",\n      \"summary\": \"Closes the consumer, waits for in‑flight sends to complete, and logs any errors.\",\n      \"relation_to_parent\": \"Core consumer shutdown logic.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"consumer.wakeup\",\n          \"summary\": \"Interrupts any pending poll or commit calls.\",\n          \"relation_to_parent\": \"Ensures the consumer can exit blocking calls.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"consumer.close\",\n          \"summary\": \"Closes network connections and releases resources.\",\n          \"relation_to_parent\": \"Primary close operation.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"log.error(\\\"Failed to close consumer...\\\", e)\",\n          \"summary\": \"Logs any exception occurred during closure.\",\n          \"relation_to_parent\": \"Error handling.\",\n          \"relation\": \"exception\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"close (KafkaProducer)\",\n      \"summary\": \"Closes the producer, releasing its lock and clearing any pending metadata updates.\",\n      \"relation_to_parent\": \"Public API for closing a producer.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"producer.lock.unlock\",\n          \"summary\": \"Releases the lock held on the producer.\",\n          \"relation_to_parent\": \"Ensures lock cleared.\",\n          \"relation\": \"resource‑management\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"closeInternal (with lock)\",\n          \"summary\": \"Performs the internal close while holding the lock.\",\n          \"relation_to_parent\": \"Delegates to internal shutdown routine.\",\n          \"relation\": \"delegation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"closeInternal (KafkaProducer, with lock)\",\n      \"summary\": \"Closes the producer while holding the producer lock to prevent concurrent usage.\",\n      \"relation_to_parent\": \"Used for both timed and untimed close calls.\",\n      \"relation\": \"invocation\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"producerLock.lock\",\n          \"summary\": \"Acquires exclusive lock for producer operations.\",\n          \"relation_to_parent\": \"First step.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"closeInternal (no lock)\",\n          \"summary\": \"Executes the actual close steps after acquiring the lock.\",\n          \"relation_to_parent\": \"Called after lock is secured.\",\n          \"relation\": \"delegation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"producerLock.unlock\",\n          \"summary\": \"Releases the producer lock.\",\n          ... (truncated)"
        },
        {
            "node_id": 42,
            "labels": [
                "File"
            ],
            "properties": {
                "additionalBin": {
                    "binNum": 1,
                    "binPath": "/data/sanglei/CodeGraphRAG/test-project/test1/kafka"
                },
                "external": false,
                "id": 36,
                "name": "SmokeTestUtil.java",
                "parentId": 0,
                "qualifiedName": "org.apache.kafka.streams.tests.SmokeTestUtil.java",
                "File": "streams/upgrade-system-tests-36/src/test/java/org/apache/kafka/streams/tests/SmokeTestUtil.java"
            },
            "semantic_description": "{\n    \"type\": \"Interface\",\n    \"name\": \"Serde\",\n    \"summary\": \"Bundles a Serializer and a Deserializer for a specific data type, providing a unified (de)serialization contract and lifecycle management for Kafka Streams.\",\n    \"children\": [\n        {\n            \"type\": \"Method\",\n            \"name\": \"configure\",\n            \"summary\": \"Optional hook to receive configuration properties; default implementation does nothing.\",\n            \"relation_to_parent\": \"Declared within the Serde interface as a default configuration method that implementations may override.\",\n            \"relation\": \"definition\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"close\",\n            \"summary\": \"Lifecycle method to release resources; default no‑op implementation must be idempotent.\",\n            \"relation_to_parent\": \"Implements the Closeable contract required by the Serde interface.\",\n            \"relation\": \"definition\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"serializer\",\n            \"summary\": \"Provides the Serializer component that converts objects of type T into byte arrays.\",\n            \"relation_to_parent\": \"Abstract accessor; concrete Serde implementations must supply a Serializer instance.\",\n            \"relation\": \"dependency\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"deserializer\",\n            \"summary\": \"Provides the Deserializer component that converts byte arrays back into objects of type T.\",\n            \"relation_to_parent\": \"Abstract accessor; concrete Serde implementations must supply a Deserializer instance.\",\n            \"relation\": \"dependency\"\n        }\n    ]\n}"
        },
        {
            "node_id": 43,
            "labels": [
                "File"
            ],
            "properties": {
                "additionalBin": {
                    "binNum": 1,
                    "binPath": "/data/sanglei/CodeGraphRAG/test-project/test1/kafka"
                },
                "external": false,
                "id": 72,
                "name": "SmokeTestClient.java",
                "parentId": 0,
                "qualifiedName": "org.apache.kafka.streams.tests.SmokeTestClient.java",
                "File": "streams/upgrade-system-tests-36/src/test/java/org/apache/kafka/streams/tests/SmokeTestClient.java"
            },
            "semantic_description": "{\n    \"type\": \"Interface\",\n    \"name\": \"WindowStore\",\n    \"summary\": \"Mutable, time‑windowed key‑value store extending StateStore and ReadOnlyWindowStore; supports inserting, deleting, and fetching records across key and time ranges, with optional backward iteration.\",\n    \"children\": [\n        {\n            \"type\": \"Method\",\n            \"name\": \"put\",\n            \"summary\": \"Insert or delete (null value) a record for a key in the window starting at the given timestamp.\",\n            \"relation_to_parent\": \"Core mutating operation defined by the WindowStore contract.\",\n            \"relation\": \"dependency (parent requires concrete implementation)\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"fetch(K key, long timeFrom, long timeTo)\",\n            \"summary\": \"Iterate over values for a specific key whose windows start within the inclusive millisecond time range.\",\n            \"relation_to_parent\": \"Primary read‑only query defined by the WindowStore interface.\",\n            \"relation\": \"dependency (parent requires concrete implementation)\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"fetch(K key, Instant timeFrom, Instant timeTo)\",\n            \"summary\": \"Validate Instant arguments and delegate to the long‑based fetch overload.\",\n            \"relation_to_parent\": \"Convenience bridge method built on the core fetch(K,long,long).\",\n            \"relation\": \"implementation (default method)\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"backwardFetch(K key, long timeFrom, long timeTo)\",\n            \"summary\": \"Intended reverse‑order iteration over a key’s windows; default throws UnsupportedOperationException.\",\n            \"relation_to_parent\": \"Optional backward‑fetch capability defined by the interface but not provided by default.\",\n            \"relation\": \"implementation (default method)\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"backwardFetch(K key, Instant timeFrom, Instant timeTo)\",\n            \"summary\": \"Validate Instants and forward to the long‑based backwardFetch overload.\",\n            \"relation_to_parent\": \"Instant‑based API for reverse iteration built on the core method.\",\n            \"relation\": \"implementation (default method)\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"fetch(K keyFrom, K keyTo, long timeFrom, long timeTo)\",\n            \"summary\": \"Iterate over <Windowed<K>, V> for all keys in the inclusive key range and windows whose start timestamps fall within the time range.\",\n            \"relation_to_parent\": \"Bulk read‑only operation across a key and time range.\",\n            \"relation\": \"dependency (parent requires concrete implementation)\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"fetch(K keyFrom, K keyTo, Instant timeFrom, Instant timeTo)\",\n            \"summary\": \"Validate Instants and delegate to the millisecond‑based range fetch method.\",\n            \"relation_to_parent\": \"Convenient Instant‑based bridge to the core range fetch.\",\n            \"relation\": \"implementation (default method)\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"backwardFetch(K keyFrom, K keyTo, long timeFrom, long timeTo)\",\n            \"summary\": \"Default reverse‑order iteration over a key and time range; throws UnsupportedOperationException.\",\n            \"relation_to_parent\": \"Optional backward‑range fetch defined but not implemented by default.\",\n            \"relation\": \"implementation (default method)\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"backwardFetch(K keyFrom, K keyTo, Instant timeFrom, Instant timeTo)\",\n            \"summary\": \"Validate Instants and delegate to the long‑based backwardFetch range method.\",\n            \"relation_to_parent\": \"Instant‑based API for reverse‑order range fetching built on the core method.\",\n            \"relation\": \"implementation (default method)\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"fetchAll(long timeFrom, long timeTo)\",\n            \"summary\": \"Iterate over all <Windowed<K>, V> pairs whose windows start within the time interval, regardless of key.\",\n            \"relation_to_parent\": \"Full‑store scan over a time range.\",\n            \"relation\": \"dependency (parent requires concrete implementation)\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"fetchAll(Instant timeFrom, Instant timeTo)\",\n            \"summary\": \"Validate Instant arguments and forward to the long‑based fetchAll method.\",\n            \"relation_to_parent\": \"Instant‑based bridge to the core fetchAll operation.\",\n            \"relation\": \"implementation (default method)\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"backwardFetchAll(long timeFrom, long timeTo)\",\n            \"summary\": \"Default reverse‑order scan over all windows in the interval; throws UnsupportedOperationException.\",\n            \"relation_to_parent\": \"Optional backward‑scan capability not provided by default.\",\n            \"relation\": \"implementation (default method)\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"backwardFetchAll(Instant timeFrom, Instant timeTo)\",\n            \"summary\": \"Validate Instants and delegate to the long‑based backwardFetchAll method.\",\n            \"relation_to_parent\": \"Instant‑based API for reverse‑order full‑store scanning.\",\n            \"relation\": \"implementation (default method)\"\n        }\n    ]\n}"
        },
        {
            "node_id": 115,
            "labels": [
                "File"
            ],
            "properties": {
                "additionalBin": {
                    "binNum": 1,
                    "binPath": "/data/sanglei/CodeGraphRAG/test-project/test1/kafka"
                },
                "external": false,
                "id": 74662,
                "name": "SmokeTestUtil.java",
                "parentId": 0,
                "qualifiedName": "org.apache.kafka.streams.tests.SmokeTestUtil.java",
                "File": "streams/upgrade-system-tests-32/src/test/java/org/apache/kafka/streams/tests/SmokeTestUtil.java"
            },
            "semantic_description": "{\n    \"type\": \"Class\",\n    \"name\": \"processor\",\n    \"summary\": \"A Kafka Streams processor that maintains an integer aggregate per key, updates it for each incoming record, forwards the updated aggregate downstream, and logs processing statistics.\",\n    \"children\": [\n        {\n            \"type\": \"Field\",\n            \"name\": \"initAggValue\",\n            \"summary\": \"Provides the initial aggregate value (0) for each key.\",\n            \"relation_to_parent\": \"Stored as an instance variable of the processor and used during aggregation.\",\n            \"relation\": \"composition\"\n        },\n        {\n            \"type\": \"Field\",\n            \"name\": \"addedAgg\",\n            \"summary\": \"Aggregates incoming integer values by adding them to the current aggregate.\",\n            \"relation_to_parent\": \"Held by the processor and invoked for each record to compute the new aggregate.\",\n            \"relation\": \"composition\"\n        },\n        {\n            \"type\": \"Field\",\n            \"name\": \"selectKeyMapper\",\n            \"summary\": \"Maps a key‑aggregate pair to a new key (String) for forwarding.\",\n            \"relation_to_parent\": \"Stored in the processor and called when a record is forwarded.\",\n            \"relation\": \"composition\"\n        },\n        {\n            \"type\": \"Field\",\n            \"name\": \"aggStoreName\",\n            \"summary\": \"Identifies the state store that holds the aggregates.\",\n            \"relation_to_parent\": \"Constant value used by the processor to bind and query the store.\",\n            \"relation\": \"dependency\"\n        },\n        {\n            \"type\": \"Field\",\n            \"name\": \"aggStoreSupplier\",\n            \"summary\": \"Creates the persistent key‑value store for aggregates.\",\n            \"relation_to_parent\": \"Provided to the topology and accessed by the processor during init.\",\n            \"relation\": \"dependency\"\n        },\n        {\n            \"type\": \"Field\",\n            \"name\": \"aggStoreBuilder\",\n            \"summary\": \"Builds the aggregate store with the required serde.\",\n            \"relation_to_parent\": \"Instantiated by the processor and added to the topology.\",\n            \"relation\": \"composition\"\n        },\n        {\n            \"type\": \"Field\",\n            \"name\": \"aggStore\",\n            \"summary\": \"Runtime access to the aggregate key‑value store.\",\n            \"relation_to_parent\": \"Obtained from the ProcessorContext during init and used in process().\",\n            \"relation\": \"dependency\"\n        },\n        {\n            \"type\": \"Field\",\n            \"name\": \"aggStoreSerde\",\n            \"summary\": \"Serde for the aggregate Integer values.\",\n            \"relation_to_parent\": \"Supplies serializer/deserializer for the aggregate store.\",\n            \"relation\": \"dependency\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"init\",\n            \"summary\": \"Initializes the processor: captures context, registers the aggregate store, and logs start‑up.\",\n            \"relation_to_parent\": \"Implements the Processor contract; invoked by the runtime after a Processor instance is created.\",\n            \"relation\": \"invocation\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"process\",\n            \"summary\": \"For each incoming record, updates the aggregate, writes it to the store, forwards a new record downstream, and logs progress.\",\n            \"relation_to_parent\": \"Core processing logic; uses fields, the ProcessorContext, Record abstraction, and serdes to perform its work.\",\n            \"relation\": \"invocation\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"close\",\n            \"summary\": \"No‑op cleanup method required by the Processor interface.\",\n            \"relation_to_parent\": \"Called when the processor is shut down; does not depend on other members.\",\n            \"relation\": \"invocation\"\n        },\n        {\n            \"type\": \"Method\",\n            \"name\": \"toString\",\n            \"summary\": \"Returns a human‑readable representation of the processor.\",\n            \"relation_to_parent\": \"Overrides Object.toString() for debugging; does not affect processing.\",\n            \"relation\": \"override\"\n        },\n        {\n            \"type\": \"Supertype\",\n            \"name\": \"ContextualProcessor\",\n            \"summary\": \"Base class providing generic Processor functionality and context handling.\",\n            \"relation_to_parent\": \"The processor extends ContextualProcessor, inheriting its fields and methods.\",\n            \"relation\": \"inheritance\"\n        },\n        {\n            \"type\": \"InnerClass\",\n            \"name\": \"ProcessorContextWrapper\",\n            \"summary\": \"Wraps a ProcessorContext to expose a simplified API and overrides commit with a no‑op.\",\n            \"relation_to_parent\": \"Defined inside the processor and instantiated when forwarding records.\",\n            \"relation\": \"composition\"\n        }\n    ]\n}"
        },
        {
            "node_id": 101,
            "labels": [
                "File"
            ],
            "properties": {
                "additionalBin": {
                    "binNum": 1,
                    "binPath": "/data/sanglei/CodeGraphRAG/test-project/test1/kafka"
                },
                "external": false,
                "id": 62247,
                "name": "StreamsConfig.java",
                "parentId": 1,
                "qualifiedName": "org.apache.kafka.streams.StreamsConfig.java",
                "File": "streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java"
            },
            "semantic_description": "```json\n{\n  \"type\": \"File\",\n  \"name\": \"StreamsConfig.java\",\n  \"summary\": \"Java source file that defines the StreamsConfig configuration hub, a properties‑loading utility, and the generic Serde interface used throughout Kafka Streams for serialization/deserialization.\",\n  \"children\": [\n    {\n      \"type\": \"class\",\n      \"name\": \"StreamsConfig\",\n      \"summary\": \"Configuration hub for Kafka Streams; defines, validates, and provides access to all stream, consumer, producer, admin, and client‑side settings, including defaults, overrides, and helper factories.\",\n      \"relation_to_parent\": \"Declared inside the file; serves as the primary class exposing stream configuration APIs.\",\n      \"relation\": \"containment\",\n      \"children\": [\n        {\n          \"type\": \"reflection\",\n          \"name\": \"CircularReferenceNode211\",\n          \"summary\": \"A reflective placeholder that points back to the StreamsConfig definition, indicating a self‑reference used for documentation or tooling.\",\n          \"relation_to_parent\": \"References the StreamsConfig class itself, creating a circular reference.\",\n          \"relation\": \"self‑reference / circular dependency\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"loadProps\",\n      \"summary\": \"Public static utility that loads a Java Properties file given a filename, delegating the operation to the overloaded loadProps(String, Properties) method and propagating any IOException.\",\n      \"relation_to_parent\": \"Declared in the file as a static helper for property file loading.\",\n      \"relation\": \"containment\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"loadProps(String, Properties)\",\n          \"summary\": \"Overloaded utility method that reads the file, creates a Properties instance, and optionally merges it with default properties.\",\n          \"relation_to_parent\": \"Invoked by the parent loadProps method to perform the actual loading logic, passing the original filename and a null default Properties object.\",\n          \"relation\": \"invocation / delegation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Interface\",\n      \"name\": \"Serde\",\n      \"summary\": \"A generic interface that groups a `Serializer<T>` and a `Deserializer<T>` for a specific data type `T`. It extends `Closeable` and supplies default no‑op `configure` and `close` methods, while requiring concrete implementations to provide serializer and deserializer instances.\",\n      \"relation_to_parent\": \"Declared in the file; defines the contract for serialization/deserialization components used by Kafka Streams.\",\n      \"relation\": \"containment\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"configure\",\n          \"summary\": \"Default method that accepts configuration key/value pairs and a flag indicating whether the serde is for a key or a value. The default implementation does nothing.\",\n          \"relation_to_parent\": \"Provides an optional configuration hook for implementations of the Serde interface.\",\n          \"relation\": \"definition\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"close\",\n          \"summary\": \"Default method that closes the serde and its underlying components. It must be idempotent; the default implementation does nothing.\",\n          \"relation_to_parent\": \"Defines the lifecycle termination behavior required by the `Closeable` super‑interface.\",\n          \"relation\": \"definition\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"serializer\",\n          \"summary\": \"Abstract method that returns a `Serializer<T>` instance capable of converting objects of type `T` into bytes.\",\n          \"relation_to_parent\": \"Exposes the serializer component that the Serde bundles; implementations must supply it.\",\n          \"relation\": \"dependency\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"deserializer\",\n          \"summary\": \"Abstract method that returns a `Deserializer<T>` instance capable of converting bytes back into objects of type `T`.\",\n          \"relation_to_parent\": \"Exposes the deserializer component that the Serde bundles; implementations must supply it.\",\n          \"relation\": \"dependency\"\n        }\n      ]\n    }\n  ]\n}\n```"
        },
        {
            "node_id": 117,
            "labels": [
                "File"
            ],
            "properties": {
                "additionalBin": {
                    "binNum": 1,
                    "binPath": "/data/sanglei/CodeGraphRAG/test-project/test1/kafka"
                },
                "external": false,
                "id": 72637,
                "name": "KafkaStreams.java",
                "parentId": 1,
                "qualifiedName": "org.apache.kafka.streams.KafkaStreams.java",
                "File": "streams/src/main/java/org/apache/kafka/streams/KafkaStreams.java"
            },
            "semantic_description": "```json\n{\n  \"type\": \"File\",\n  \"name\": \"KafkaStreams.java\",\n  \"summary\": \"Defines the KafkaStreams class, the core entry point for building, managing and controlling a Kafka Streams application, along with related utility methods and the StreamsUncaughtExceptionHandler interface.\",\n  \"children\": [\n    {\n      \"type\": \"Method\",\n      \"name\": \"start\",\n      \"summary\": \"Starts the KafkaStreams instance, transitioning its state to REBALANCING, initializing local state, launching global and stream processing threads, and scheduling periodic cleanup and optional RocksDB metrics collection.\",\n      \"relation_to_parent\": \"Public lifecycle method defined in KafkaStreams that initiates the processing topology.\",\n      \"relation\": \"definition\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"setState(State.REBALANCING)\",\n          \"summary\": \"Attempts to move the client state to REBALANCING; determines if start can continue.\",\n          \"relation_to_parent\": \"First conditional check inside start; start proceeds only if this transition succeeds.\",\n          \"relation\": \"dependency\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"log.debug(String)\",\n          \"summary\": \"Writes a debug message about initializing standby tasks.\",\n          \"relation_to_parent\": \"Executed after a successful state transition.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"stateDirectory.initializeStartupTasks(TopologyMetadata, StreamsMetrics, LogContext)\",\n          \"summary\": \"Initializes any existing standby tasks from local state.\",\n          \"relation_to_parent\": \"Part of the start‑up sequence, performed after the debug log.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"log.debug(String)\",\n          \"summary\": \"Logs that the Streams client is about to start.\",\n          \"relation_to_parent\": \"Runs after local state initialization.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"globalStreamThread.start()\",\n          \"summary\": \"Starts the global thread that restores and serves global stores, if such a thread exists.\",\n          \"relation_to_parent\": \"Conditional step following client‑level logging.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"processStreamThread(StreamThread::start)\",\n          \"summary\": \"Creates and starts the configured number of stream processing threads.\",\n          \"relation_to_parent\": \"Core part of start that launches per‑task processing threads.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"log.info(String, int)\",\n          \"summary\": \"Logs the number of stream threads that have been started.\",\n          \"relation_to_parent\": \"Runs after processStreamThread returns.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"applicationConfigs.getLong(StreamsConfig.STATE_CLEANUP_DELAY_MS_CONFIG)\",\n          \"summary\": \"Fetches the configured delay for periodic state‑store cleanup.\",\n          \"relation_to_parent\": \"Provides a parameter for scheduling the cleanup task.\",\n          \"relation\": \"dependency\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"stateDirCleaner.scheduleAtFixedRate(Runnable, long, long, TimeUnit)\",\n          \"summary\": \"Schedules a recurring cleanup job that invokes stateDirectory.cleanRemovedTasks while the client is RUNNING.\",\n          \"relation_to_parent\": \"Sets up background maintenance after threads are started.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"LambdaExpression\",\n          \"name\": \"cleanupRunnable\",\n          \"summary\": \"Runnable that checks client state and triggers stateDirectory.cleanRemovedTasks if RUNNING.\",\n          \"relation_to_parent\": \"Supplied as the first argument to stateDirCleaner.scheduleAtFixedRate.\",\n          \"relation\": \"composition\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"rocksDBMetricsRecordingService.scheduleAtFixedRate(Runnable, long, long, TimeUnit)\",\n          \"summary\": \"If enabled, schedules periodic collection of RocksDB metrics.\",\n          \"relation_to_parent\": \"Configures additional background metric collection after cleanup scheduling.\",\n          \"relation\": \"invocation\"\n        },\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"streamsMetrics.rocksDBMetricsRecordingTrigger()\",\n          \"summary\": \"Creates the runnable that records RocksDB metrics.\",\n          \"relation_to_parent\": \"Argument to rocksDBMetricsRecordingService.scheduleAtFixedRate.\",\n          \"relation\": \"dependency\"\n        },\n        {\n          \"type\": \"ExceptionThrow\",\n          \"name\": \"IllegalStateException\",\n          \"summary\": \"Thrown when start() is called while the client is already STARTED or STOPPED, preventing a restart.\",\n          \"relation_to_parent\": \"Executed in the else‑branch when setState fails.\",\n          \"relation\": \"error handling\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"close\",\n      \"summary\": \"Public API that gracefully shuts down the KafkaStreams instance; blocks until all internal threads terminate.\",\n      \"relation_to_parent\": \"Public lifecycle method defined in KafkaStreams that stops the application.\",\n      \"relation\": \"definition\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"close(Optional.empty(), false)\",\n          \"summary\": \"Performs the actual shutdown logic with default arguments (no timeout, non‑forceful).\",\n          \"relation_to_parent\": \"The parent close() method delegates its work to this overloaded method.\",\n          \"relation\": \"invocation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Method\",\n      \"name\": \"loadProps\",\n      \"summary\": \"Public static utility that loads a Java Properties file given a filename, delegating the operation to the overloaded loadProps(String, Properties) method and propagating any IOException.\",\n      \"relation_to_parent\": \"Static helper method defined in this file for reading configuration files.\",\n      \"relation\": \"definition\",\n      \"children\": [\n        {\n          \"type\": \"MethodInvocation\",\n          \"name\": \"loadProps(String, Properties)\",\n          \"summary\": \"Overloaded utility method that reads the file, creates a Properties instance, and optionally merges it with default properties.\",\n          \"relation_to_parent\": \"The parent method calls this overload, passing the original filename and a null default Properties object.\",\n          \"relation\": \"invocation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Interface\",\n      \"name\": \"StreamsUncaughtExceptionHandler\",\n      \"summary\": \"Defines a contract for handling uncaught exceptions that arise in a Kafka Streams thread. Implementations examine the Throwable and decide, via a response enum, whether to replace the failed thread, shut down the client, or terminate the entire application.\",\n      \"relation_to_parent\": \"Nested interface declared in KafkaStreams.java for user‑provided exception handling logic.\",\n      \"relation\": \"definition\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"handle\",\n          \"summary\": \"Abstract operation to process an uncaught exception from a stream thread and return a handling decision.\",\n          \"relation_to_parent\": \"Abstract operation that user implementations must provide; invoked by the runtime when a thread throws an uncaught exception.\",\n          \"relation\": \"definition\"\n        },\n        {\n          \"type\": \"Enum\",\n          \"name\": \"StreamThreadExceptionResponse\",\n          \"summary\": \"Enum used as the return type of handle; enumerates the possible actions the runtime may take after an uncaught exception.\",\n          \"relation_to_parent\": \"Nested enum used by the handle method to convey the desired recovery action.\",\n          \"relation\": \"definition\"\n        }\n      ]\n    }\n  ]\n}\n```"
        },
        {
            "node_id": 138,
            "labels": [
                "File"
            ],
            "properties": {
                "additionalBin": {
                    "binNum": 1,
                    "binPath": "/data/sanglei/CodeGraphRAG/test-project/test1/kafka"
                },
                "external": false,
                "id": 54417,
                "name": "StreamsBuilder.java",
                "parentId": 1,
                "qualifiedName": "org.apache.kafka.streams.StreamsBuilder.java",
                "File": "streams/src/main/java/org/apache/kafka/streams/StreamsBuilder.java"
            },
            "semantic_description": "{\n  \"type\": \"Documentation\",\n  \"name\": \"Kafka Streams DSL Overview\",\n  \"summary\": \"A consolidated description of the key Kafka Streams DSL components, factories, serializers, deserializers, and processing elements that are used throughout the DSL examples and Gradle build configuration.\",\n  \"children\": [\n    {\n      \"type\": \"Interface\",\n      \"name\": \"KGroupedStream<K,V>\",\n      \"summary\": \"Represents a grouped stream of key/value pairs that can be further aggregated, reduced, windowed, or cogrouped.\",\n      \"relation_to_parent\": \"Documented as a core DSL interface that operates on grouped streams.\",\n      \"relation\": \"Reference\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"count()\",\n          \"summary\": \"Counts records per key without a materialized store.\",\n          \"relation_to_parent\": \"Method invoked on a KGroupedStream instance.\",\n          \"relation\": \"Invocation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"count(Materialized<…>)\",\n          \"summary\": \"Counts records per key and materializes the result with the provided configuration.\",\n          \"relation_to_parent\": \"Method invoked on a KGroupedStream instance.\",\n          \"relation\": \"Invocation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"reduce(Aggregator<…>)\",\n          \"summary\": \"Reduces values per key using the supplied aggregator without a materialized store.\",\n          \"relation_to_parent\": \"Method invoked on a KGroupedStream instance.\",\n          \"relation\": \"Invocation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"reduce(Aggregator<…>, Materialized<…>)\",\n          \"summary\": \"Reduces values per key and materializes the state store using the supplied configuration.\",\n          \"relation_to_parent\": \"Method invoked on a KGroupedStream instance.\",\n          \"relation\": \"Invocation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"aggregate(Initializer<…>, Aggregator<…>)\",\n          \"summary\": \"Aggregates values per key without a materialized store, returning a KTable.\",\n          \"relation_to_parent\": \"Method invoked on a KGroupedStream instance.\",\n          \"relation\": \"Invocation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"aggregate(Initializer<…>, Aggregator<…>, Materialized<…>)\",\n          \"summary\": \"Aggregates values per key and materializes the state store with the supplied configuration.\",\n          \"relation_to_parent\": \"Method invoked on a KGroupedStream instance.\",\n          \"relation\": \"Invocation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"windowedBy(WindowBytesStoreSupplier)\",\n          \"summary\": \"Creates a windowed KGroupedStream using the supplied bytes‑store supplier.\",\n          \"relation_to_parent\": \"Method invoked on a KGroupedStream instance.\",\n          \"relation\": \"Invocation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"windowedBy(SessionBytesStoreSupplier)\",\n          \"summary\": \"Creates a session‑windowed KGroupedStream using the supplied bytes‑store supplier.\",\n          \"relation_to_parent\": \"Method invoked on a KGroupedStream instance.\",\n          \"relation\": \"Invocation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"cogroup(CogroupedKStream<…>)\",\n          \"summary\": \"Co‑aggregates multiple grouped streams into a single KTable based on the provided cogroup definition.\",\n          \"relation_to_parent\": \"Method invoked on a KGroupedStream instance.\",\n          \"relation\": \"Invocation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Interface\",\n      \"name\": \"KStream\",\n      \"summary\": \"Represents a continuous, un‑grouped stream of key/value records.\",\n      \"relation_to_parent\": \"Documented as the entry point for stream processing operations.\",\n      \"relation\": \"Reference\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"to(OutputFactory<…>)\",\n          \"summary\": \"Writes the stream to the destination defined by the supplied OutputFactory.\",\n          \"relation_to_parent\": \"Method invoked on a KStream instance.\",\n          \"relation\": \"Invocation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"toTable()\",\n          \"summary\": \"Transforms the stream into a KTable without materialization.\",\n          \"relation_to_parent\": \"Method invoked on a KStream instance.\",\n          \"relation\": \"Invocation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"process(Processor<…>)\",\n          \"summary\": \"Applies a custom processor (lambda) to each record of the stream.\",\n          \"relation_to_parent\": \"Method invoked on a KStream instance.\",\n          \"relation\": \"Invocation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Interface\",\n      \"name\": \"KTable\",\n      \"summary\": \"Represents a changelog‑driven table view of a stream.\",\n      \"relation_to_parent\": \"Documented as a core DSL type for materialized aggregations.\",\n      \"relation\": \"Reference\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"to(OutputFactory<…>)\",\n          \"summary\": \"Writes the KTable to the provided destination.\",\n          \"relation_to_parent\": \"Method invoked on a KTable instance.\",\n          \"relation\": \"Invocation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Interface\",\n      \"name\": \"ProcessorSupplier\",\n      \"summary\": \"Factory interface that supplies a lambda (Processor) to be executed for each record.\",\n      \"relation_to_parent\": \"Utility interface used by the DSL to inject custom processing logic.\",\n      \"relation\": \"Reference\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"get()\",\n          \"summary\": \"Provides the lambda (Processor) that will be applied to stream records.\",\n          \"relation_to_parent\": \"Method invoked on a ProcessorSupplier instance.\",\n          \"relation\": \"Invocation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Class\",\n      \"name\": \"Bytes\",\n      \"summary\": \"Utility class that bundles a byte array with optional tag metadata and provides deserialization helpers.\",\n      \"relation_to_parent\": \"Utility class used across node factories for handling raw byte payloads.\",\n      \"relation\": \"Composition\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"build(BytesDeserializer, K2NodeFactory, K1NodeFactory, K2K3Factory)\",\n          \"summary\": \"Creates a K2Node populated with a K1Node child using the provided factories and deserializer.\",\n          \"relation_to_parent\": \"Static method of Bytes.\",\n          \"relation\": \"Construction\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"deserializeByteBuffer(ByteBuffer)\",\n          \"summary\": \"Deserializes a ByteBuffer into a K2Node via BytesDeserializer and the factory infrastructure.\",\n          \"relation_to_parent\": \"Static method of Bytes.\",\n          \"relation\": \"Deserialization\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"deserializeString(String)\",\n          \"summary\": \"Converts a UTF‑8 string representation of bytes into a K2Node.\",\n          \"relation_to_parent\": \"Static method of Bytes.\",\n          \"relation\": \"Deserialization\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"deserializeByteArray(byte[])\",\n          \"summary\": \"Deserializes a raw byte array into a K2Node.\",\n          \"relation_to_parent\": \"Static method of Bytes.\",\n          \"relation\": \"Deserialization\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"get(byte[])\",\n          \"summary\": \"Wraps a raw byte array into a Bytes instance for further processing.\",\n          \"relation_to_parent\": \"Static factory method of Bytes.\",\n          \"relation\": \"Construction\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"addTag(byte[])\",\n          \"summary\": \"Adds a tag to a Bytes payload for later identification.\",\n          \"relation_to_parent\": \"Static helper of Bytes.\",\n          \"relation\": \"Mutation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Class\",\n      \"name\": \"BytesDeserializer\",\n      \"summary\": \"Deserializer that converts raw byte data into a ByteArrayDeserializer (used internally by the DSL factories).\",\n      \"relation_to_parent\": \"Utility class referenced by node factories for byte‑level deserialization.\",\n      \"relation\": \"Dependency\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"deserialize(String, Headers)\",\n          \"summary\": \"Deserializes a byte array from a Kafka record key/value pair.\",\n          \"relation_to_parent\": \"Method of BytesDeserializer.\",\n          \"relation\": \"Implementation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"deserializeByteArray(ByteArrayDeserializer)\",\n          \"summary\": \"Converts a ByteArrayDeserializer instance into an optional ByteArrayDeserializer (used for null handling).\",\n          \"relation_to_parent\": \"Method of BytesDeserializer.\",\n          \"relation\": \"Transformation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"create(String, Properties)\",\n          \"summary\": \"Creates a ByteArraySerializer configured with the supplied topic name and properties.\",\n          \"relation_to_parent\": \"Factory method producing a ByteArraySerializer.\",\n          \"relation\": \"Factory\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"deserializeByteArray(ByteArrayDeserializer)\",\n          \"summary\": \"Invokes the static Bytes.deserializeByteArray function to obtain a deserialized ByteArray instance.\",\n          \"relation_to_parent\": \"Method of BytesDeserializer.\",\n          \"relation\": \"Delegation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Class\",\n      \"name\": \"ByteArraySerializer\",\n      \"summary\": \"Kafka Serializer that writes raw byte arrays to a topic.\",\n      \"relation_to_parent\": \"Utility serializer used indirectly by the factory classes.\",\n      \"relation\": \"Dependency\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"configure(Map<String,?>, boolean)\",\n          \"summary\": \"No‑op configuration for the serializer.\",\n          \"relation_to_parent\": \"Method of ByteArraySerializer.\",\n          \"relation\": \"Implementation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"serialize(String, byte[])\",\n          \"summary\": \"Returns the given byte array unchanged (pass‑through serializer).\",\n          \"relation_to_parent\": \"Method of ByteArraySerializer.\",\n          \"relation\": \"Implementation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"close()\",\n          \"summary\": \"No‑op close operation.\",\n          \"relation_to_parent\": \"Method of ByteArraySerializer.\",\n          \"relation\": \"Implementation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Class\",\n      \"name\": \"K2NodeFactory\",\n      \"summary\": \"Factory that builds K2Node instances (including nested K3Node and K4Node children) using the supplied K1NodeFactory, K2K3Factory, and BytesDeserializer.\",\n      \"relation_to_parent\": \"Core factory class orchestrating the creation of K2‑type DSL nodes.\",\n      \"relation\": \"Composition\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"build(K1NodeFactory, K2K3Factory, BytesDeserializer)\",\n          \"summary\": \"Creates a K2Node populated with a K1Node child, wiring the IDs and tag that come from the deserializer.\",\n          \"relation_to_parent\": \"Method of K2NodeFactory.\",\n          \"relation\": \"Construction\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"buildK2K3(K2K3Factory)\",\n          \"summary\": \"Returns a K2Node that contains a K3Node child built by K2K3Factory.\",\n          \"relation_to_parent\": \"Method of K2NodeFactory.\",\n          \"relation\": \"Composition\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"buildK1K2K3(K2K3Factory)\",\n          \"summary\": \"Creates a top‑level K1Node that owns a K2Node (which itself contains a K3Node) via K2K3Factory.\",\n          \"relation_to_parent\": \"Method of K2NodeFactory.\",\n          \"relation\": \"Composition\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"buildK2K2K3(K2K2K3Factory)\",\n          \"summary\": \"Generates a K2Node that holds a second‑level K2Node and a K3Node child.\",\n          \"relation_to_parent\": \"Method of K2NodeFactory.\",\n          \"relation\": \"Composition\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"getK2NodeForK2K3(K2K3Factory)\",\n          \"summary\": \"Convenient accessor that extracts the K2Node from a K2K3Factory‑produced hierarchy.\",\n          \"relation_to_parent\": \"Method of K2NodeFactory.\",\n          \"relation\": \"Access\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"getK2NodeForK2K2K3(K2K2K3Factory)\",\n          \"summary\": \"Extracts the outer K2Node from a K2K2K3Factory‑built structure.\",\n          \"relation_to_parent\": \"Method of K2NodeFactory.\",\n          \"relation\": \"Access\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Class\",\n      \"name\": \"K1Node\",\n      \"summary\": \"Simple node that holds an optional tag and a possible child K2Node, used as the leaf in many factory creations.\",\n      \"relation_to_parent\": \"Leaf DSL node commonly attached to higher‑level nodes.\",\n      \"relation\": \"Dependency\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"setTag(Optional<ByteArray>)\",\n          \"summary\": \"Assigns a tag to the node (used for tracking versioning).\",\n          \"relation_to_parent\": \"Method of K1Node.\",\n          \"relation\": \"Mutation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"setK2Node(Optional<K2Node>)\",\n          \"summary\": \"Attaches a K2Node child to this K1Node.\",\n          \"relation_to_parent\": \"Method of K1Node.\",\n          \"relation\": \"Composition\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"setK3Node(Optional<K3Node>)\",\n          \"summary\": \"Adds a K3Node child, enabling deeper nesting.\",\n          \"relation_to_parent\": \"Method of K1Node.\",\n          \"relation\": \"Composition\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"setK4Node(Optional<K4Node>)\",\n          \"summary\": \"Creates and attaches a K4Node child (used in second‑level compositions).\",\n          \"relation_to_parent\": \"Method of K1Node.\",\n          \"relation\": \"Construction\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Class\",\n      \"name\": \"K2Node\",\n      \"summary\": \"Node representing a second‑level DSL element, holding an optional tag, child K1Node, and possibly further nested nodes.\",\n      \"relation_to_parent\": \"Node type created by K2NodeFactory.\",\n      \"relation\": \"Composition\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"setTag(Optional<ByteArray>)\",\n          \"summary\": \"Assigns a tag to the K2Node (originating from the deserializer).\",\n          \"relation_to_parent\": \"Method of K2Node.\",\n          \"relation\": \"Mutation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"setK1Node(Optional<K1Node>)\",\n          \"summary\": \"Attaches a K1Node child to this K2Node.\",\n          \"relation_to_parent\": \"Method of K2Node.\",\n          \"relation\": \"Composition\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"setK2Node(Optional<K2Node>)\",\n          \"summary\": \"Adds a second‑level K2Node (used in the K2K2K3 hierarchy).\",\n          \"relation_to_parent\": \"Method of K2Node.\",\n          \"relation\": \"Composition\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"setK3Node(Optional<K3Node>)\",\n          \"summary\": \"Adds a K3Node child to the current K2Node.\",\n          \"relation_to_parent\": \"Method of K2Node.\",\n          \"relation\": \"Composition\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Class\",\n      \"name\": \"K3Node\",\n      \"summary\": \"Node representing a third‑level DSL element, optionally holding a tag and a K4Node child.\",\n      \"relation_to_parent\": \"Child node created by K2K3Factory for deeper DSL structures.\",\n      \"relation\": \"Composition\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"setTag(Optional<ByteArray>)\",\n          \"summary\": \"Assigns a tag to the K3Node (sourced from deserialization).\",\n          \"relation_to_parent\": \"Method of K3Node.\",\n          \"relation\": \"Mutation\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"setK4Node(Optional<K4Node>)\",\n          \"summary\": \"Attaches a K4Node child (used in nested hierarchies).\",\n          \"relation_to_parent\": \"Method of K3Node.\",\n          \"relation\": \"Composition\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Class\",\n      \"name\": \"K4Node\",\n      \"summary\": \"Leaf node used for fourth‑level DSL representations (primarily for testing nesting).\",\n      \"relation_to_parent\": \"Terminal node in deeper factory constructions.\",\n      \"relation\": \"Dependency\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"setTag(Optional<ByteArray>)\",\n          \"summary\": \"Assigns an optional tag to the K4Node.\",\n          \"relation_to_parent\": \"Method of K4Node.\",\n          \"relation\": \"Mutation\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Class\",\n      \"name\": \"K2K2K3Factory\",\n      \"summary\": \"Factory that creates a K2Node hierarchy containing a second‑level K2Node and a K3Node child.\",\n      \"relation_to_parent\": \"Used by K2NodeFactory to generate complex node trees.\",\n      \"relation\": \"Composition\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"buildK2K2K3(BytesDeserializer)\",\n          \"summary\": \"Constructs a K2Node with a nested K2Node and K3Node, wiring IDs from the deserializer.\",\n          \"relation_to_parent\": \"Method of K2K2K3Factory.\",\n          \"relation\": \"Construction\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Class\",\n      \"name\": \"K2K3Factory\",\n      \"summary\": \"Factory that builds a K2K3 hierarchy consisting of a K2Node containing a K3Node child.\",\n      \"relation_to_parent\": \"Utility factory used by K2NodeFactory for building nested structures.\",\n      \"relation\": \"Composition\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"buildK2K3(BytesDeserializer)\",\n          \"summary\": \"Produces a K2Node that contains a K3Node, using the deserializer for IDs and tags.\",\n          \"relation_to_parent\": \"Method of K2K3Factory.\",\n          \"relation\": \"Construction\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Class\",\n      \"name\": \"K1K2K3Factory\",\n      \"summary\": \"Factory that creates a top‑level K1Node that owns a K2Node with a K3Node child.\",\n      \"relation_to_parent\": \"Used by K2NodeFactory for assembling highest‑level DSL nodes.\",\n      \"relation\": \"Composition\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"buildK1K2K3(BytesDeserializer)\",\n          \"summary\": \"Generates a K1Node with a nested K2Node/K3Node hierarchy, using data from the deserializer.\",\n          \"relation_to_parent\": \"Method of K1K2K3Factory.\",\n          \"relation\": \"Construction\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Class\",\n      \"name\": \"K1K2Factory\",\n      \"summary\": \"Factory that builds a K1Node containing a K2Node as a child, wiring IDs and tags.\",\n      \"relation_to_parent\": \"Used by K2NodeFactory for simple K1‑K2 compositions.\",\n      \"relation\": \"Composition\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"buildK1K2(K2NodeFactory)\",\n          \"summary\": \"Creates a K1Node that has a K2Node child (built via K2NodeFactory).\",\n          \"relation_to_parent\": \"Method of K1K2Factory.\",\n          \"relation\": \"Construction\"\n        }\n      ]\n    },\n    {\n      \"type\": \"Class\",\n      \"name\": \"K2K2K3Factory\",\n      \"summary\": \"Factory that assembles a K2Node hierarchy with a second‑level K2Node and a K3Node child.\",\n      \"relation_to_parent\": \"Used by K2NodeFactory for constructing more complex nested structures.\",\n      \"relation\": \"Composition\",\n      \"children\": [\n        {\n          \"type\": \"Method\",\n          \"name\": \"buildK2K2K3(BytesDeserializer)\",\n          \"summary\": \"Generates a K2Node containing a nested K2Node and K3Node using the deserializer for IDs.\",\n          \"relation_to_parent\": \"Method of K2K2K3Factory.\",\n          \"relation\": \"Construction\"\n        }\n      ]\n    }\n  ]\n}"
        },
        {
            "node_id": 151,
            "labels": [
                "File"
            ],
            "properties": {
                "additionalBin": {
                    "binNum": 1,
                    "binPath": "/data/sanglei/CodeGraphRAG/test-project/test1/kafka"
                },
                "external": false,
                "id": 73085,
                "name": "KeyValue.java",
                "parentId": 1,
                "qualifiedName": "org.apache.kafka.streams.KeyValue.java",
                "File": "streams/src/main/java/org/apache/kafka/streams/KeyValue.java"
            },
            "semantic_description": "```json\n{\n  \"type\": \"File\",\n  \"name\": \"KeyValue.java\",\n  \"summary\": \"Source file that declares the immutable generic container class KeyValue, used by Kafka Streams to model a record’s key‑value pair.\",\n  \"children\": [\n    {\n      \"type\": \"Class\",\n      \"name\": \"KeyValue\",\n      \"summary\": \"An immutable generic container that represents a single key‑value pair of a Kafka Streams record. Stores a key of type K and a value of type V and provides standard Object overrides and a factory method.\",\n      \"relation_to_parent\": \"Declared inside this file; the file serves as the compilation unit for the class.\",\n      \"relation\": \"contains\",\n      \"children\": [\n        {\n          \"type\": \"Field\",\n          \"name\": \"key\",\n          \"summary\": \"The key component of the pair, of generic type K.\",\n          \"relation_to_parent\": \"A constituent part of each KeyValue instance; holds the key value.\",\n          \"relation\": \"has-a\"\n        },\n        {\n          \"type\": \"Field\",\n          \"name\": \"value\",\n          \"summary\": \"The value component of the pair, of generic type V.\",\n          \"relation_to_parent\": \"A constituent part of each KeyValue instance; holds the value value.\",\n          \"relation\": \"has-a\"\n        },\n        {\n          \"type\": \"Constructor\",\n          \"name\": \"KeyValue(K key, V value)\",\n          \"summary\": \"Initializes a new KeyValue object by assigning the provided key and value to the respective fields.\",\n          \"relation_to_parent\": \"Creates and fully initializes a KeyValue instance.\",\n          \"relation\": \"instantiates\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"pair(K key, V value)\",\n          \"summary\": \"Static factory method that returns a new KeyValue instance for the given key and value.\",\n          \"relation_to_parent\": \"Provides an alternative, convenient way to construct a KeyValue; internally invokes the constructor.\",\n          \"relation\": \"factory‑method\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"toString()\",\n          \"summary\": \"Returns a string representation of the pair in the form \\\"KeyValue(key, value)\\\".\",\n          \"relation_to_parent\": \"Overrides Object.toString() to expose the internal key and value.\",\n          \"relation\": \"override\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"equals(Object obj)\",\n          \"summary\": \"Compares this KeyValue with another for equality based on both key and value using Objects.equals.\",\n          \"relation_to_parent\": \"Overrides Object.equals() to define logical equality for KeyValue instances.\",\n          \"relation\": \"override\"\n        },\n        {\n          \"type\": \"Method\",\n          \"name\": \"hashCode()\",\n          \"summary\": \"Computes a hash code derived from the key and value using Objects.hash.\",\n          \"relation_to_parent\": \"Overrides Object.hashCode() to provide a hash consistent with equals.\",\n          \"relation\": \"override\"\n        }\n      ]\n    }\n  ]\n}\n```"
        },
        {
            "node_id": 158,
            "labels": [
                "File"
            ],
            "properties": {
                "additionalBin": {
                    "binNum": 1,
                    "binPath": "/data/sanglei/CodeGraphRAG/test-project/test1/kafka"
                },
                "external": false,
                "id": 62975,
                "name": "Topology.java",
                "parentId": 1,
                "qualifiedName": "org.apache.kafka.streams.Topology.java",
                "File": "streams/src/main/java/org/apache/kafka/streams/Topology.java"
            },
            "semantic_description": "```json\n{\n  \"type\": \"File\",\n  \"name\": \"Topology.java\",\n  \"summary\": \"Defines the core Kafka Streams topology class and references key stream processing interfaces (KStream, ProcessorSupplier, KTable) used to build and compile a directed‑acyclic processing graph.\",\n  \"children\": [\n    {\n      \"type\": \"Topology\",\n      \"name\": \"UserDefinedTopology\",\n      \"summary\": \"Represents a Kafka Streams processing graph. Provides a fluent API for registering sources, processors, state stores, and sinks, and for wiring them together into a directed acyclic graph that is later compiled into an execution plan.\",\n      \"relation_to_parent\": \"Declared inside Topology.java; the file contains the concrete implementation of the Topology abstraction.\",\n      \"relation\": \"Containment – the file owns and defines this class.\"\n    },\n    {\n      \"type\": \"Interface\",\n      \"name\": \"KStream\",\n      \"summary\": \"High‑level DSL abstraction for an unbounded stream of key/value records, offering composable operations for transforming, materializing, and integrating low‑level processing logic.\",\n      \"relation_to_parent\": \"Imported in the source file so that the Topology implementation can reference the KStream API.\",\n      \"relation\": \"Dependency – the Topology class depends on KStream for stream‑level operations.\"\n    },\n    {\n      \"type\": \"Interface\",\n      \"name\": \"ProcessorSupplier\",\n      \"summary\": \"Functional interface used by Kafka Streams topologies to create fresh Processor instances for each stream thread; implements Java's Supplier contract.\",\n      \"relation_to_parent\": \"Imported in the source file to allow the Topology to obtain Processor objects when wiring ProcessorNodes.\",\n      \"relation\": \"Dependency – the Topology relies on ProcessorSupplier to instantiate processor logic.\"\n    },\n    {\n      \"type\": \"Interface\",\n      \"name\": \"KTable\",\n      \"summary\": \"Changelog‑driven table view that maintains the latest value per key and provides table‑oriented operations while allowing conversion back to a KStream.\",\n      \"relation_to_parent\": \"Imported in the source file so that the Topology can expose or materialize table abstractions.\",\n      \"relation\": \"Dependency – the Topology may use KTable for stateful table operations.\"\n    }\n  ]\n}\n```"
        }
    ]
}